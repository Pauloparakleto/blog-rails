<article>
  <% if @post.cover_image.attached? %>
    <%= image_tag @post.cover_image, class: 'w-full cursor-pointer h-auto' %>
  <% end %>
  <div class="container mx-auto">
    <header class="relative bg-white lg:pt-8 md:pt-4 lg:pb-40 lg:px-16 lg:mx-56 lg:-mt-40">
      <% if @post.draft? && current_page?(admin_post_path(@post)) %>
        <%= button_to "Publish", admin_publish_post_path(id: @post.id), method: :put,
          class: "float-right bg-teal-500 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded"  %>
      <% elsif @post.published? && current_page?(admin_post_path(@post)) %>
        <%= button_to "Unpublish", admin_unpublish_post_path(id: @post.id), method: :put,
          class: "float-right bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded"  %>
      <% end %>
      <% @post.tags.each do |tag| %>
        <p class="inline-block text-left text-lg font-bold text-indigo-800 tracking-wide mb-2 mr-1">
          <%= tag.name %>
        </p>
      <% end %>

      <p class="inline-block text-left text-sm text-gray-600 tracking-wide mb-2">
        <%= @post.created_at.strftime('%b, %Y')%>
      </p>

      <h1 class="font-black text-4xl tracking-wide mb-8">
        <%= @post.title %> <%= '[PREVIEW]' if @post.draft? %>
      </h1>

      <div class="text-lg font-bold pt-6 pb-2 border-t border-b border-indigo-700 mb-8">
        <%= @post.intro %>
        </br>
        <div class="text-right text-indigo-700">
          <a class="text-sm font-normal underline"
             href="<%= twitter_share_url(@post) %>">Share</a>
          <i class="fab fa-twitter text-sm"></i>
        </div>
      </div>
    </header>

    <div class="relative block">
      <div class="text-lg font-light leading-loose lg:px-16 lg:mx-64 lg:-mt-40">
        <%= @post.body %>
      </div>
      <div class="absolute text-3xl pl-32 top-0 left-0 text-indigo-700 sm:hidden lg:block">
        <ul class="sticky top-0">
          <li class="block"><i class="fab fa-twitter-square"></i></li>
          <li class="block"><i class="fab fa-linkedin"></i></li>
          <li class="block"><i class="fab fa-facebook-square"></i></li>
        </ul>
      </div>
      </div>
      </div>
    </div>
  </div>
</article>
